{"title": "优化 JS 条件语句的 5 个技巧", "praise_nums": 1, "create_date": "2019/03/22", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wx3433627156\">Mr.Dcheng</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://scotch.io/tutorials/5-tips-to-write-better-conditionals-in-javascript\">@jecelyn</a>。欢迎加入<a target=\"_blank\" href=\"https://github.com/jobbole/translation-project\">翻译组</a>。</div><p>在使用 JavaScript 时，我们会处理很多条件语句，这里有 5 个技巧可以帮助您编写更好、更简洁的条件语句。</p>\n<h3>1、对多个条件使用 Array.includes</h3>\n<p>让我们看看下面的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da36595621903464\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// condition\r\nfunction test(fruit) {\r\n  if (fruit == 'apple' || fruit == 'strawberry') {\r\n    console.log('red');\r\n  }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da36595621903464-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da36595621903464-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da36595621903464-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da36595621903464-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da36595621903464-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da36595621903464-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da36595621903464-1\"><span class=\"crayon-c\">// condition</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da36595621903464-2\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da36595621903464-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da36595621903464-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da36595621903464-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da36595621903464-6\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>乍一看，上面的例子看起来不错。然而，如果还有更多红颜色的水果需要判断呢，比如樱桃和小红莓，我们要用更多的 || 来扩展这个表述吗？</p>\n<p>我们可以用 Array.includes 重写上面的条件</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365a4388977245\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit) {\r\n  // extract conditions to array\r\n  const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries'];\r\n\r\n  if (redFruits.includes(fruit)) {\r\n    console.log('red');\r\n  }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a4388977245-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a4388977245-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a4388977245-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a4388977245-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a4388977245-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a4388977245-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a4388977245-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a4388977245-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365a4388977245-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a4388977245-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// extract conditions to array</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a4388977245-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cherry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cranberries'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a4388977245-4\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a4388977245-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">includes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a4388977245-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a4388977245-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a4388977245-8\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>我们将红色水果（条件）提取到一个数组中。这样做之后，代码看起来更整洁。</p>\n<h3>2、更少的嵌套，尽早返回</h3>\n<p>让我们扩展前面的示例，以包含另外两个条件：</p>\n<ul>\n<li>如果没有提供水果（名称），抛出错误。</li>\n<li>如果（红色水果）数量超过 10 个，接受并打印。</li>\n</ul>\n<p>看看上面的代码，我们有：</p>\n<ul>\n<li>1 组过滤无效条件的 if/else 语句</li>\n<li>3层的 if 嵌套语句（条件 1、2 和 3）</li>\n</ul>\n<p>我个人遵循的一般规则是，<strong>当发现无效条件时，提前返回。</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365a9509287731\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/_ return early when invalid conditions found _/\r\n\r\nfunction test(fruit, quantity) {\r\n  const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries'];\r\n\r\n  // condition 1: throw error early\r\n  if (!fruit) throw new Error('No fruit!');\r\n\r\n  // condition 2: must be red\r\n  if (redFruits.includes(fruit)) {\r\n    console.log('red');\r\n\r\n    // condition 3: must be big quantity\r\n    if (quantity &amp;gt; 10) {\r\n      console.log('big quantity');\r\n    }\r\n  }\r\n}\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365a9509287731-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365a9509287731-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">early </span><span class=\"crayon-e\">when </span><span class=\"crayon-e\">invalid </span><span class=\"crayon-e\">conditions </span><span class=\"crayon-i\">found</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-2\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-3\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cherry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cranberries'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition 1: throw error early</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">throw</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'No fruit!'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-8\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition 2: must be red</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-10\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">includes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-12\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// condition 3: must be big quantity</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">gt</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-15\"><span class=\"crayon-h\">      </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'big quantity'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-17\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365a9509287731-18\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365a9509287731-19\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p>这样，我们就少了一层嵌套。这种编码风格很好，尤其是当你有很长的 if 语句时（想象一下，你需要滚动到最底部才能知道还有一个 else 语句，这并不酷）。</p>\n<p>通过反转条件和提早返回，我们可以进一步减少嵌套。看看下面的条件 2，我们是怎么做的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365ad114444870\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/_ return early when invalid conditions found _/\r\n\r\nfunction test(fruit, quantity) {\r\n  const redFruits = ['apple', 'strawberry', 'cherry', 'cranberries'];\r\n\r\n  if (!fruit) throw new Error('No fruit!'); // condition 1: throw error early\r\n  if (!redFruits.includes(fruit)) return; // condition 2: stop when fruit is not red\r\n\r\n  console.log('red');\r\n\r\n  // condition 3: must be big quantity\r\n  if (quantity &amp;gt; 10) {\r\n    console.log('big quantity');\r\n  }\r\n}\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365ad114444870-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365ad114444870-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-i\">_</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">early </span><span class=\"crayon-e\">when </span><span class=\"crayon-e\">invalid </span><span class=\"crayon-e\">conditions </span><span class=\"crayon-i\">found</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-2\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-3\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cherry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'cranberries'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">throw</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'No fruit!'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// condition 1: throw error early</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">redFruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">includes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// condition 2: stop when fruit is not red</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-8\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-10\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition 3: must be big quantity</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-12\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">gt</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'big quantity'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-14\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365ad114444870-15\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365ad114444870-16\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p>通过反转条件 2 的条件，我们的代码现在没有嵌套语句。当我们有很长的逻辑要处理时，这种技术是有用的，当一个条件没有满足时，我们想要停止进一步的处理。</p>\n<p>然而，这并不是<strong>严格的规则</strong>。问问自己，这个版本（没有嵌套）是否比前一个版本（嵌套的条件 2）更好、更易读？</p>\n<p>对于我来说，我将把它保留为以前的版本（条件 2 和嵌套）。这是因为：</p>\n<ul>\n<li>代码简短而直接，如果嵌套，代码就更清晰了</li>\n<li>反转条件可能会导致更多的思考过程（增加认知负担）</li>\n</ul>\n<p>因此，总是以更少的嵌套及尽早返回为目标，但不要过度。如果你感兴趣的话，StackOverflow 有一篇相关的文章讨论了这个话题：</p>\n<ul>\n<li><a href=\"http://blog.timoxley.com/post/47041269194/avoid-else-return-early\">Avoid Else, Return Early</a> by Tim Oxley</li>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/18454/should-i-return-from-a-function-early-or-use-an-if-statement\">StackOverflow discussion</a> 关于 if/else 编码风格的讨论</li>\n</ul>\n<h3>3、使用默认的函数参数和解构</h3>\n<p>我想下面的代码对您来说可能很熟悉，我们在使用 JavaScript 时总是需要检查 null 或 undefined 值并分配默认值:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365b1808676376\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit, quantity) {\r\n  if (!fruit) return;\r\n  const q = quantity || 1; // if quantity not provided, default to one\r\n\r\n  console.log(`We have ${q} ${fruit}!`);\r\n}\r\n\r\n//test results\r\ntest('banana'); // We have 1 banana!\r\ntest('apple', 2); // We have 2 apple!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b1808676376-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b1808676376-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b1808676376-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b1808676376-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b1808676376-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b1808676376-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b1808676376-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b1808676376-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b1808676376-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b1808676376-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365b1808676376-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b1808676376-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b1808676376-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">q</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// if quantity not provided, default to one</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b1808676376-4\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b1808676376-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">We</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">have</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">!</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b1808676376-6\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b1808676376-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b1808676376-8\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b1808676376-9\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 1 banana!</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b1808676376-10\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 2 apple!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>事实上，我们可以通过指定默认的函数参数来消除变量 <code>q</code>。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365b5285719795\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit, quantity = 1) { // if quantity not provided, default to one\r\n  if (!fruit) return;\r\n  console.log(`We have ${quantity} ${fruit}!`);\r\n}\r\n\r\n//test results\r\ntest('banana'); // We have 1 banana!\r\ntest('apple', 2); // We have 2 apple!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b5285719795-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b5285719795-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b5285719795-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b5285719795-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b5285719795-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b5285719795-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b5285719795-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b5285719795-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365b5285719795-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">quantity</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// if quantity not provided, default to one</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b5285719795-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b5285719795-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">We</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">have</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">quantity</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">!</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b5285719795-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b5285719795-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b5285719795-6\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b5285719795-7\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 1 banana!</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b5285719795-8\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// We have 2 apple!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>更简单和直观，不是吗？请注意，每个参数都可以有自己的默认函数参数。例如，我们也可以为 <code>fruit</code> 赋值：<code>function test(fruit = 'unknown'， quantity = 1)</code>。</p>\n<p>如果我们的 <code>fruit</code> 是一个对象呢？我们可以指定默认参数吗？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365b8030763383\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(fruit) {\r\n  // printing fruit name if value provided\r\n  if (fruit &amp;&amp; fruit.name)  {\r\n    console.log (fruit.name);\r\n  } else {\r\n    console.log('unknown');\r\n  }\r\n}\r\n\r\n//test results\r\ntest(undefined); // unknown\r\ntest({ }); // unknown\r\ntest({ name: 'apple', color: 'red' }); // apple</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b8030763383-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b8030763383-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b8030763383-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b8030763383-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b8030763383-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b8030763383-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b8030763383-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b8030763383-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b8030763383-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b8030763383-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b8030763383-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365b8030763383-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365b8030763383-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365b8030763383-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b8030763383-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// printing fruit name if value provided</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b8030763383-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">name</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b8030763383-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">name</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b8030763383-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b8030763383-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b8030763383-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b8030763383-8\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b8030763383-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b8030763383-10\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b8030763383-11\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">undefined</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365b8030763383-12\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365b8030763383-13\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// apple</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p>请看上面的示例，如果 <code>fruit.name</code> 是可用的，我们将打印该水果名称，否则我们将打印 <code>unknown</code>。我们可以避免使用与默认函数参数和解构对条件 <code>fruit &amp;&amp; fruit.name</code> 进行检查。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365bc493755319\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// destructing - get name property only\r\n// assign default empty object {}\r\nfunction test({name} = {}) {\r\n  console.log (name || 'unknown');\r\n}\r\n\r\n//test results\r\ntest(undefined); // unknown\r\ntest({ }); // unknown\r\ntest({ name: 'apple', color: 'red' }); // apple</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bc493755319-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bc493755319-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bc493755319-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bc493755319-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bc493755319-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bc493755319-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bc493755319-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bc493755319-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bc493755319-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bc493755319-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365bc493755319-1\"><span class=\"crayon-c\">// destructing - get name property only</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bc493755319-2\"><span class=\"crayon-c\">// assign default empty object {}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bc493755319-3\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-r\">name</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bc493755319-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bc493755319-5\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bc493755319-6\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bc493755319-7\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bc493755319-8\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">undefined</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bc493755319-9\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bc493755319-10\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// apple</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>因为我们只需要水果中的属性 <code>name</code>，所以我们可以使用 <code>{name}</code> 来解构，然后我们可以在代码中使用 <code>name</code> 作为变量，而不是 <code>fruit.name</code>。</p>\n<p>我们还将空对象 <code>{}</code> 指定为默认值。如果我们不这样做，当执行 <code>test(undefined)</code>，不能解构 <code>undefined</code> 或 <code>null</code> 的属性名时，您将会得到错误。因为在 undefined中没有 <code>name</code> 属性。</p>\n<p>如果您不介意使用第三方库，有一些方法可以减少 null 检查：</p>\n<ul>\n<li>使用 Lodash 的 get 函数</li>\n<li>使用 Facebook 的开源库 idx（以及 Babeljs）</li>\n</ul>\n<p>这是使用 Lodash 的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365bf890027125\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// Include lodash library, you will get _\r\nfunction test(fruit) {\r\n  console.log(__.get(fruit, 'name', 'unknown'); // get property name, if not available, assign default value 'unknown'\r\n}\r\n\r\n//test results\r\ntest(undefined); // unknown\r\ntest({ }); // unknown\r\ntest({ name: 'apple', color: 'red' }); // apple</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bf890027125-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bf890027125-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bf890027125-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bf890027125-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bf890027125-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bf890027125-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bf890027125-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365bf890027125-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365bf890027125-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365bf890027125-1\"><span class=\"crayon-c\">// Include lodash library, you will get _</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bf890027125-2\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bf890027125-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">__</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'name'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'unknown'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// get property name, if not available, assign default value 'unknown'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bf890027125-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bf890027125-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bf890027125-6\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bf890027125-7\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">undefined</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365bf890027125-8\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// unknown</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365bf890027125-9\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// apple</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>您可以在 <a href=\"https://jsbin.com/bopovajiye/edit?js,console\">这里</a> 运行演示代码。此外，如果你喜欢函数式编程（FP），你可以选择使用 Lodash fp, 即 Lodash 的函数式版本（方法改为 <code>get</code> 或 <code>getOr</code>）。</p>\n<h3>4、选择 Map 或对象字面量，而不是 Switch 语句</h3>\n<p>让我们看看下面的例子，我们想要基于颜色打印水果名称：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365c3256009592\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction test(color) {\r\n  // use switch case to find fruits in color\r\n  switch (color) {\r\n    case 'red':\r\n      return ['apple', 'strawberry'];\r\n    case 'yellow':\r\n      return ['banana', 'pineapple'];\r\n    case 'purple':\r\n      return ['grape', 'plum'];\r\n    default:\r\n      return [];\r\n  }\r\n}\r\n\r\n//test results\r\ntest(null); // []\r\ntest('yellow'); // ['banana', 'pineapple']</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c3256009592-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c3256009592-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// use switch case to find fruits in color</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">switch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-5\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-7\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">case</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-9\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">default</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-11\"><span class=\"crayon-h\">      </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-12\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-13\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-14\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-15\"><span class=\"crayon-c\">//test results</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c3256009592-16\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// []</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c3256009592-17\"><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// ['banana', 'pineapple']</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>上面的代码似乎没有什么问题，但我发现它相当冗长。同样的结果可以通过对象字面量和更简洁的语法来实现：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365c7560593727\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// use object literal to find fruits in color\r\n  const fruitColor = {\r\n    red: ['apple', 'strawberry'],\r\n    yellow: ['banana', 'pineapple'],\r\n    purple: ['grape', 'plum']\r\n  };\r\n\r\nfunction test(color) {\r\n  return fruitColor[color] || [];\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c7560593727-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c7560593727-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c7560593727-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c7560593727-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c7560593727-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c7560593727-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c7560593727-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c7560593727-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365c7560593727-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365c7560593727-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365c7560593727-1\"><span class=\"crayon-c\">// use object literal to find fruits in color</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c7560593727-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c7560593727-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">red</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c7560593727-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">yellow</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c7560593727-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">purple</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c7560593727-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c7560593727-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c7560593727-8\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365c7560593727-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365c7560593727-10\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>或者，可以使用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\">Map</a> 来实现相同的结果：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365cb586346266\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// use Map to find fruits in color\r\n  const fruitColor = new Map()\r\n    .set('red', ['apple', 'strawberry'])\r\n    .set('yellow', ['banana', 'pineapple'])\r\n    .set('purple', ['grape', 'plum']);\r\n\r\nfunction test(color) {\r\n  return fruitColor.get(color) || [];\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cb586346266-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cb586346266-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cb586346266-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cb586346266-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cb586346266-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cb586346266-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cb586346266-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cb586346266-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cb586346266-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365cb586346266-1\"><span class=\"crayon-c\">// use Map to find fruits in color</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cb586346266-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Map</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cb586346266-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cb586346266-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cb586346266-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cb586346266-6\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cb586346266-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cb586346266-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruitColor</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cb586346266-9\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>Map 是 ES2015 以后可用的对象类型，允许您存储键值对。</p>\n<p>我们应该禁止使用 switch 语句吗？不要把自己局限于此。就我个人而言，我尽可能地使用对象字面量，但是我不会设置严格的规则来阻止它，使用对您的场景有意义的任何一个。</p>\n<p>Todd Motto 有一篇文章深入讨论 switch 语句与对象字面量，你可以在 <a href=\"https://toddmotto.com/deprecating-the-switch-statement-for-object-literals/\">这里</a> 阅读。</p>\n<h3>TL;DR; 重构的语法</h3>\n<p>对于上面的示例，我们实际上可以重构代码，以使用 <code>Array.filter</code> 获得相同的结果。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365cf121253925\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n   { name: 'apple', color: 'red' },\r\n   { name: 'strawberry', color: 'red' },\r\n   { name: 'banana', color: 'yellow' },\r\n   { name: 'pineapple', color: 'yellow' },\r\n   { name: 'grape', color: 'purple' },\r\n   { name: 'plum', color: 'purple' }\r\n];\r\n\r\nfunction test(color) {\r\n // use Array filter to find fruits in color\r\n\r\n return fruits.filter(f =&gt; f.color == color);\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cf121253925-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cf121253925-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cf121253925-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cf121253925-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cf121253925-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cf121253925-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cf121253925-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cf121253925-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cf121253925-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cf121253925-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cf121253925-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cf121253925-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365cf121253925-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365cf121253925-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365cf121253925-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cf121253925-2\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cf121253925-3\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'strawberry'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cf121253925-4\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cf121253925-5\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pineapple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cf121253925-6\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cf121253925-7\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'plum'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cf121253925-8\"><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cf121253925-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cf121253925-10\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cf121253925-11\"><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// use Array filter to find fruits in color</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cf121253925-12\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365cf121253925-13\"><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">filter</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365cf121253925-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0029 seconds] -->\r\n<p>总有不止一种方法可以达到同样的效果。我们展示了 4 个相同效果的例子。编码是有趣的！</p>\n<h3>5、所有或部分使用 Array.every &amp; Array.some 的条件</h3>\n<p>最后一个技巧是关于使用新的（但不是很新）Javascript 数组函数来减少代码行。看看下面的代码，我们想检查所有的水果是否都是红色的:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365d2143808923\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n    { name: 'apple', color: 'red' },\r\n    { name: 'banana', color: 'yellow' },\r\n    { name: 'grape', color: 'purple' }\r\n  ];\r\n\r\nfunction test() {\r\n  let isAllRed = true;\r\n\r\n  // condition: all fruits must be red\r\n  for (let f of fruits) {\r\n    if (!isAllRed) break;\r\n    isAllRed = (f.color == 'red');\r\n  }\r\n\r\n  console.log(isAllRed); // false\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d2143808923-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d2143808923-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-6\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">let </span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-10\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition: all fruits must be red</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">of </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">break</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-14\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d2143808923-16\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// false</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d2143808923-17\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0029 seconds] -->\r\n<p>代码太长了！我们可以用 <code>Array.every</code> 来减少行数：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365d6398441083\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n    { name: 'apple', color: 'red' },\r\n    { name: 'banana', color: 'yellow' },\r\n    { name: 'grape', color: 'purple' }\r\n  ];\r\n\r\nfunction test() {\r\n  // condition: short way, all fruits must be red\r\n  const isAllRed = fruits.every(f =&gt; f.color == 'red');\r\n\r\n  console.log(isAllRed); // false\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d6398441083-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d6398441083-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d6398441083-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d6398441083-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d6398441083-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d6398441083-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d6398441083-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d6398441083-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d6398441083-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d6398441083-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365d6398441083-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365d6398441083-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365d6398441083-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d6398441083-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d6398441083-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d6398441083-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d6398441083-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d6398441083-6\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d6398441083-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d6398441083-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition: short way, all fruits must be red</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d6398441083-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">every</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d6398441083-10\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365d6398441083-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">isAllRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// false</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365d6398441083-12\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p>现在干净多了，对吧？类似地，如果我们想用一行代码来判断任何一个水果是否为红色，我们可以使用 <code>Array.some</code>。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-5c9da6da365da792324415\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nconst fruits = [\r\n    { name: 'apple', color: 'red' },\r\n    { name: 'banana', color: 'yellow' },\r\n    { name: 'grape', color: 'purple' }\r\n];\r\n\r\nfunction test() {\r\n  // condition: if any fruit is red\r\n  const isAnyRed = fruits.some(f =&gt; f.color == 'red');\r\n\r\n  console.log(isAnyRed); // true\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365da792324415-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365da792324415-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365da792324415-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365da792324415-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365da792324415-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365da792324415-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365da792324415-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365da792324415-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365da792324415-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365da792324415-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5c9da6da365da792324415-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5c9da6da365da792324415-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5c9da6da365da792324415-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365da792324415-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apple'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365da792324415-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'banana'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yellow'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365da792324415-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'grape'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">color</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'purple'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365da792324415-5\"><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365da792324415-6\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365da792324415-7\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">test</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365da792324415-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// condition: if any fruit is red</span></div><div class=\"crayon-line\" id=\"crayon-5c9da6da365da792324415-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">isAnyRed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruits</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">some</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">color</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'red'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365da792324415-10\"> </div><div class=\"crayon-line\" id=\"crayon-5c9da6da365da792324415-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">isAnyRed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// true</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5c9da6da365da792324415-12\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p></p>\n<h3>总结</h3>\n<p>让我们一起生成更多可读的代码。我希望你能从这篇文章中学到一些新的东西。</p>\n<p>这就是本文的全部内容~ 编码快乐!</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"114671\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"114671votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"114671\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx3433627156\">Mr.Dcheng</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx3433627156\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2018/12/747ada908bac5a5114f6ea7d7bb20018.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Electrical engineer. Financial investor. JavaWeb developer. Mathematical modeling and quantification. Speak Mandarin, Java, JavaScript, Vue.js and mor...        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wx3433627156\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wx3433627156/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"我的网站\" target=\"_blank\" href=\"http://www.dcheng.site\"><i class=\"fa fa-link\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/clxering\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>"}
